# Warlords - 삼국지 전략 웹게임

> 삼국지3을 벤치마크한 전략 시뮬레이션 웹게임
> 핵심 재미: **전투와 성 점령** - 자원 모아서 병력 키우고 쳐들어가기!

---

## 🎯 Game Overview

### Concept
- **장르**: 턴제 전략 시뮬레이션
- **플랫폼**: 웹 (모바일 최적화)
- **테마**: 삼국지 (후한 말기 ~ 삼국시대)
- **목표**: 중국 통일 (모든 지역 점령)

### Core Loop
```
내정(자원 축적) → 등용(장수 영입) → 군사(병력 강화) → 전쟁(영토 확장)
         ↑                                              ↓
         └──────────── 점령 보상 ←──────────────────────┘
```

### Key Features
1. **실시간 전투 선택** - 매 라운드 행동 결정
2. **계략 시스템** - 지력으로 전세 역전
3. **일기토** - 장수 1:1 대결의 긴장감
4. **사기 시스템** - 숫자보다 전략이 중요

---

## 🗺️ World Design

### 9개 주요 지역
| 지역 | 설명 | 초기 세력 |
|-----|------|---------|
| 낙양 (Luoyang) | 중앙, 황제 소재지 | 황건적 |
| 허창 (Xuchang) | 조조 본거지 | 조조 |
| 성도 (Chengdu) | 유비 본거지 | 유비 |
| 건업 (Jianye) | 손권 본거지 | 손권 |
| 장안 (Chang'an) | 서북 관문 | 동탁 잔당 |
| 업 (Ye) | 북방 요충지 | 원소 |
| 형주 (Jingzhou) | 중부 요충지 | 유표 |
| 익주 (Yizhou) | 서남 내륙 | 유장 |
| 유주 (Youzhou) | 북방 변경 | 공손찬 |

### 지역 연결 (인접 관계)
```
        유주
         │
        업
       ╱   ╲
    장안 ─ 낙양 ─ 허창
       ╲   │   ╱
        형주
       ╱   ╲
    익주   건업
     │
   성도
```

---

## 👥 Character System

### 장수 능력치
| 능력치 | 효과 |
|-------|-----|
| **무력** (Might) | 일기토, 직접 전투 피해 |
| **지력** (Intellect) | 계략 성공률, 내정 효율 |
| **정치** (Politics) | 내정, 외교 효율 |
| **매력** (Charisma) | 등용 성공률, 충성도 |

### 핵심 장수 (50명)
#### 위 (Wei)
- 조조 (91/95/96/96)
- 하후돈 (83/50/45/72)
- 하후연 (82/52/40/60)
- 장료 (89/68/51/78)
- 서황 (86/55/42/65)
- 사마의 (72/98/92/80)
- 순욱 (55/96/98/92)
- 곽가 (42/97/89/85)

#### 촉 (Shu)
- 유비 (72/65/78/99)
- 관우 (97/75/62/93)
- 장비 (98/32/22/68)
- 조운 (96/76/68/85)
- 제갈량 (55/100/95/92)
- 마초 (94/52/35/78)
- 황충 (92/58/48/72)
- 방통 (45/98/88/76)

#### 오 (Wu)
- 손권 (70/78/88/95)
- 주유 (72/96/86/93)
- 육손 (68/95/90/85)
- 감녕 (90/55/40/72)
- 태사자 (91/48/35/80)
- 여몽 (82/88/72/75)

#### 기타
- 여포 (100/25/15/35)
- 원소 (65/55/68/88)
- 동탁 (88/42/35/25)
- ... (추가 예정)

### 충성도 시스템
- 0~100 범위
- 50 이하: 이탈 위험
- 영향 요소: 봉록, 대우, 전투 결과

---

## 💰 Resource System

### 자원 종류
| 자원 | 용도 | 획득 |
|-----|-----|-----|
| 💰 **금 (Gold)** | 봉록, 구매, 외교 | 상업, 세금 |
| 🌾 **식량 (Food)** | 병력 유지, 원정 | 농업 |
| 👥 **인구 (Population)** | 징병 풀 | 치안, 시간 |
| ⚔️ **병력 (Troops)** | 전투력 | 징병 |

### 내정 명령 (월 1회)
| 명령 | 효과 | 담당 능력치 |
|-----|------|-----------|
| 개간 | 식량 수입 +5% | 정치 |
| 상업 | 금 수입 +5% | 정치 |
| 치안 | 반란 방지, 인구 증가 | 무력+정치 |
| 징병 | 인구 → 병력 전환 | 매력 |
| 훈련 | 병력 전투력 상승 | 무력 |

---

## ⚔️ Battle System (핵심!)

### 전투 흐름
```
출진 선언 → 야전 (3~5 라운드) → 공성전 → 점령 or 퇴각
```

### Phase 1: 출진 준비

#### 편성
- 장수 선택 (최대 3명, 주장 1명 지정)
- 병력 배분 (총 병력 한도 내)
- 군량 준비 (거리 × 병력 × 0.1)

#### 병종
| 병종 | 특징 | 상성 |
|-----|-----|-----|
| ⚔️ 보병 | 균형형, 공성 유리 | 궁병에 강함 |
| 🐴 기병 | 고기동, 돌격 강함 | 보병에 강함 |
| 🏹 궁병 | 원거리, 수비 유리 | 기병에 강함 |

상성 보너스: **+20% 피해**

---

### Phase 2: 야전 (Field Battle)

#### 라운드 구조
```
┌─────────────────────────────────────┐
│  라운드 N                           │
├─────────────────────────────────────┤
│  아군 진영          적 진영         │
│  ┌─────┐           ┌─────┐        │
│  │관우 │ ← 대치 → │하후돈│        │
│  │5000 │           │7000 │        │
│  │😤 85│           │😤 70│        │
│  └─────┘           └─────┘        │
├─────────────────────────────────────┤
│  [⚔️돌격] [🛡️수비] [🧠계략] [👊일기토] │
└─────────────────────────────────────┘
```

#### 행동 선택
| 행동 | 효과 | 리스크 |
|-----|------|-------|
| ⚔️ **돌격 (Charge)** | 높은 피해 | 반격 피해도 큼 |
| 🛡️ **수비 (Defend)** | 피해 50% 감소 | 공격 못함 |
| 🧠 **계략 (Stratagem)** | 특수 효과 | 지력 낮으면 실패 |
| 👊 **일기토 (Duel)** | 장수 1:1 대결 | 지면 사기 폭락 |

#### 피해 계산
```
기본 피해 = (공격 병력 × 0.1) × (1 + 장수 무력/100)
최종 피해 = 기본 피해 × 상성 보너스 × 랜덤(0.8~1.2)

예: 관우(무력97) 5000명 돌격
    = 5000 × 0.1 × 1.97 × 랜덤
    = 788~1182 피해
```

---

### 🧠 Stratagem System (계략)

#### 계략 목록
| 계략 | 필요 지력 | 효과 | 쿨다운 |
|-----|---------|------|-------|
| 🔥 화공 (Fire Attack) | 70+ | 적 병력 30% 피해 | 3턴 |
| 🌫️ 매복 (Ambush) | 60+ | 다음 턴 기습 (2배 피해) | 2턴 |
| 😈 이간 (Discord) | 80+ | 적 장수 1턴 행동불가 | 4턴 |
| 🏃 유인 (Lure) | 50+ | 적 돌격 유도 → 반격 | 2턴 |
| 🌀 혼란 (Confusion) | 75+ | 적 사기 -30 | 3턴 |
| 📢 격려 (Rally) | 40+ | 아군 사기 +20 | 1턴 |
| 💨 연막 (Smoke) | 55+ | 이번 턴 피해 무효화 | 3턴 |
| ⚡ 기습 (Surprise) | 65+ | 선제 공격 (적 반격 없음) | 2턴 |

#### 성공률 계산
```
성공률 = 50% + (내 지력 - 적 지력)

예: 제갈량(100) vs 하후돈(50) = 100% (확정 성공)
    관우(75) vs 사마의(98) = 27% (위험!)
    평범한 장수(60) vs 평범한 장수(60) = 50%
```

---

### 👊 Duel System (일기토)

#### 일기토 흐름
```
┌───────────────────────────────────┐
│     ⚔️ 일기토 (Duel) ⚔️          │
├───────────────────────────────────┤
│                                   │
│   관우 (무력 97) ❤️ 100          │
│          VS                       │
│   하후돈 (무력 83) ❤️ 100        │
│                                   │
├───────────────────────────────────┤
│  [💪강공] [🤺견제] [⚡필살기]     │
└───────────────────────────────────┘
```

#### 가위바위보 상성
| 내 선택 | 상대 강공 | 상대 견제 | 상대 필살기 |
|--------|---------|---------|-----------|
| 💪 강공 | 무력 비교 | 내가 피해 | 상대 피해 |
| 🤺 견제 | 상대 피해 | 무력 비교 | 내가 피해 |
| ⚡ 필살기 | 내가 피해 | 상대 피해 | 무력 비교 |

#### 일기토 피해
```
피해 = 20 + (무력 차이 / 2)

예: 관우(97) vs 하후돈(83), 관우 승리 시
    피해 = 20 + (97-83)/2 = 27
```

#### 일기토 결과
| 결과 | 효과 |
|-----|------|
| 승리 | 적 사기 -40, 아군 사기 +20 |
| 패배 | 아군 사기 -40, 장수 부상 가능 |
| 장수 사망 | 드물게 발생 (HP 0), 사기 대폭 변동 |

---

### 📊 Morale System (사기)

> **사기 = 전투의 핵심!**
> 병력이 많아도 사기가 0이면 패주!

#### 사기 범위
- 시작: 100
- 최대: 100
- 0 이하: **패주!** (병력 30% 손실 퇴각)

#### 사기 변동
| 상황 | 변화 |
|-----|-----|
| 라운드 승리 | +10 |
| 라운드 패배 | -15 |
| 일기토 승리 | +20 |
| 일기토 패배 | -40 |
| 계략 성공 (공격) | +10 |
| 계략 피해 | -10~30 |
| 아군 장수 사망 | -50 |
| 적 장수 사망 | +30 |
| 주장 사망/포로 | -70 |

---

### Phase 3: 공성전 (Siege)

야전 승리 후 성 공격

```
┌─────────────────────────────────────┐
│  🏰 허창성 (Xuchang Castle)        │
│  내구도: 80/100                     │
│  수비병: 3,000                      │
│  수비 장수: 조인                    │
├─────────────────────────────────────┤
│  [🪓공성] [🔥화공] [⏳포위] [🏃퇴각] │
└─────────────────────────────────────┘
```

#### 공성 행동
| 행동 | 효과 | 비용/조건 |
|-----|------|---------|
| 🪓 **공성** | 내구도 -10~20 | 병력 5~10% 손실 |
| 🔥 **화공** | 내구도 -30 | 지력 70+ 필요 |
| ⏳ **포위** | 매턴 내구도 -5 | 군량 2배 소모 |
| 🏃 **퇴각** | 전투 종료 | - |

#### 함락 조건
- 내구도 0 = **함락!**
  - 성 점령
  - 잔여 병력/장수 포로 or 사망
  - 자원 획득 (금, 식량)

---

## 🎲 Randomness (운 요소)

전투에 적절한 운 요소로 긴장감 부여

```javascript
// 피해 랜덤
damage = baseDamage * random(0.8, 1.2)

// 계략 성공 판정
if (random(0, 100) < successRate) { success() }

// 장수 사망 판정 (일기토 HP 0 시)
deathChance = 10% (기본)
if (captured) deathChance = 5%  // 포로면 낮음
```

---

## 📱 UI Design (Mobile First)

### 메인 화면
```
┌─────────────────────────────┐
│ 💰 12,500  🌾 8,200  ⚔️ 15K│ (자원 바)
├─────────────────────────────┤
│                             │
│      [ 지 도 / 현황 ]       │
│                             │
├─────────────────────────────┤
│ [🏠내정] [👥인재] [⚔️군사] [🤝외교] │ (탭)
└─────────────────────────────┘
```

### 전투 화면
```
┌─────────────────────────────┐
│ ⚔️ 야전 - Round 3/5        │
├─────────────────────────────┤
│  👤 관우        👤 하후돈   │
│  ❤️ 5,000      ❤️ 4,200    │ (병력)
│  😤 85          😤 62       │ (사기)
├─────────────────────────────┤
│                             │
│   "하후돈이 돌격해온다!"    │
│                             │
├─────────────────────────────┤
│ [⚔️돌격] [🛡️수비] [🧠계략] │
│        [👊일기토]           │
└─────────────────────────────┘
```

---

## 🛠️ Tech Stack

- **Framework**: Next.js 16+ (React 19)
- **Styling**: Tailwind CSS
- **State**: React hooks (useState, useReducer)
- **Deploy**: Vercel
- **Storage**: LocalStorage (추후 서버 확장 가능)

---

## 📅 Development Phases

### Phase 1: Core Battle (MVP)
- [ ] 기본 전투 시스템 (야전)
- [ ] 계략 시스템
- [ ] 일기토 시스템
- [ ] 사기 시스템
- [ ] 모바일 UI

### Phase 2: Campaign
- [ ] 지역 시스템
- [ ] 내정 시스템
- [ ] 자원 관리
- [ ] 공성전

### Phase 3: Depth
- [ ] 장수 50명 데이터
- [ ] 외교 시스템
- [ ] 이벤트/시나리오
- [ ] 세이브/로드

---

## 📝 Notes

- Trade Winds 프로젝트 구조 참고
- 모바일 우선 설계
- 핵심 재미(전투) 먼저 완성 후 확장

---

*Last Updated: 2026-02-01*
